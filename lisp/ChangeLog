Sun Mar 22 09:26:51 1987  Richard M. Stallman  (rms at prep)

	* Version 18.41 released.

	* vip.el (vip-mode): Add this function, which loaddefs.el expected.
	* vip.el (change-mode): Eliminate emacs-mode-line-format;
	use change-mode-line when reentering emacs-mode.

	* prolog.el (prolog-mode-variables): comment-column=48.
	* prolog.el (prolog-consult-region): New arg COMPILE (prefix).
	Before the region, send one of prolog-{consult,compile}-string.
	After, send prolog-eof-string or else real eof.
	Get region bounds using interactive r.
	* prolog.el (prolog-consult-region-and-go): Similar.

	* info.el (Info-find-node): Don't call Info-mode
	if already in that mode.  Avoids wiping out local variables
	such as Info-current-file.

Sat Mar 21 13:36:04 1987  Richard M. Stallman  (rms at prep)

	* term/sun.el: Define sun-esc-bracket as nil:
	don't redefine M-[ by default.

	* informat.el (Info-validate): Don't get error while
	checking for an indirect info file.

Fri Mar 20 10:20:16 1987  Richard M. Stallman  (rms at prep)

	* dired.el (dired-{un,}compress): Don't specify path
	for programs compress and uncompress.

Thu Mar 19 14:56:55 1987  Richard Mlynarik  (mly at prep)

	* disassemble.el (disassemble-1):
	Let print-escape-newlines t around constant printing.

	* terminal.el (terminal-emulator):
	Quote shell arg as "TERMCAP=foo" not TERMCAP="foo"

Thu Mar 19 14:21:09 1987  Richard M. Stallman  (rms at prep)

	* vip.el (string-tail, change-mode-line):
	Use string manipulation; flush the temp buffer " *working-space*".

Wed Mar 18 11:36:49 1987  Richard M. Stallman  (rms at prep)

	* Version 18.40 released.

	* files.el (after-find-file): Use directory-file-name where needed.

Wed Mar 18 10:11:51 1987  Richard Mlynarik  (mly at prep)

	* ftp.el (ftp-find-file-or-directory): Paren error.

Tue Mar 17 09:46:29 1987  Richard M. Stallman  (rms at prep)

	* server.el (server-visit-buffers): Don't revert a buffer
	automatically if the file does not currently exist.

	* mh-e.el (mh-list-to-string, mh-page-digest{,-backwards}):
	Fixes from Larus.

	* server.el (server-start): Kill old server before
	clearing out its records.  Delete any old server socket
	unconditionally.  Mark server process as kill-without-query.

	* files.el (recover-file): Don't try to list directory on vms.

Sat Mar 14 09:39:24 1987  Richard M. Stallman  (rms at prep)

	* Version 18.39 released.

Fri Mar 13 19:34:24 1987  Richard M. Stallman  (rms at prep)

	* dired.el: New commands dired-{un,}compress,
	dired-byte-compile, dired-ch{mod,own,grp} and subroutine
	dired-redisplay.  From Jim Cottrell, rbj@icst-cmr.arpa.
	They are all put on keys.

	* sun-{mouse,mouse-fns,cursors}.el, term/sun.el:
	New and replacement files from peck@sun.com.

Thu Mar 12 16:17:22 1987  Richard M. Stallman  (rms at prep)

	* server.el (server-visit-files): Before trying
	find-file-noselect, check for existing buffer, and if it
	isn't modified, revert it unconditionally. 

	* mh-e.el (mh-send-letter): Considerable rewrite by Larus;
	don't know why.

Wed Mar 11 18:11:12 1987  Chris Hanson  (cph at prep)

	* sort.el (sort-subr): fix typo in sorting of lists: in case where
	`sortcar' is not available, and arguments are numbers, was using
	`cdr' to extract second argument to `sort' (rather than `car').

Wed Mar 11 10:05:35 1987  Richard M. Stallman  (rms at prep)

	* tex-mode.el (TeX-comment-indent): In column 0,
	don't require indenting at least to column 1.

	* vip.el: New version from Sato; handles the EX commands.

	* server.el: New version frm peck@sun, supporting
	multiple clients.

Tue Mar 10 16:20:48 1987  Richard M. Stallman  (rms at prep)

	* outline.el (hide-region-body): Exit loop cleanly
	no matter which stage reaches eob.

Mon Mar  9 10:21:40 1987  Richard M. Stallman  (rms at prep)

	* files.el (hack-local-variables): New optional arg FORCE.
	If it's nil, and `inhibit-local-variables' is non-nil,
	then query before installing the file's local variables.
	* files.el (normal-mode): Pass non-nil FORCE to
	hack-local-variables if we were called from find-file.

	* shell.el (shell-send-input): Fix typo in condition-case syntax.

	* shell.el (make-shell): Make a TERMCAP env var
	for term type "emacs" to give the screen width.

Sun Mar  8 08:30:26 1987  Richard M. Stallman  (rms at prep)

	* info.el (Info-mode): Make variables Info-current-*,
	Info-tag-table-marker and Info-history local in Info-mode.

Fri Mar  6 14:55:31 1987  Richard Mlynarik  (mly at prep)

	* ftp.el:  Paren error.

Thu Mar  5 16:27:47 1987  Richard M. Stallman  (rms at prep)

	* sort.el (sort-reorder-buffer): Fix typo `end'->`last'
	in insertion of the spacing after the last sort record.

	* rmail.el (rmail-undelete-previous-message):
	Don't call rmail-show-msg if message is already current.
	Avoids scrolling.

	* rmail.el (rmail-next-undeleted-message): Likewise.

Wed Mar  4 01:21:22 1987  Richard M. Stallman  (rms at prep)

	* loaddefs.el (auto-mode-alist): Add .article and .letter
	as text-mode, for rn.

	* ftp.el (ftp-list-directory): New command.
	* ftp.el (ftp-find-file-or-directory):
	Guts of ftp-find-file are now here.  3rd arg is t for a file,
	nil for listing a directory.

	* mailalias.el (expand-mail-aliases): Correct handling of
	aliases whose expansions use other aliases, and aliases
	that are self-referent.

	* c-mode.el (calculate-c-indent): Line at beg of buffer
	needs no indentation.

Tue Mar  3 21:43:01 1987  Richard M. Stallman  (rms at prep)

	* shell.el (shell): New series of variables `explicit-FOO-args'
	specify args to use when running program FOO as a shell.
	Supply system-dependent default for explicit-csh-args.

	* mailalias.el (expand-mail-aliases):
	Fix typo: use build-mail-aliases to gobble redefined mail aliases.

	* loaddefs.el (dired-listing-switches): Doc fix.

Mon Mar  2 15:54:47 1987  Richard Mlynarik  (mly at prep)

	* Version 18.38 released.

	* shell.el (make-shell):
	Use the "env" program.
	This both simplifies and shortens the code, and makes it
	environment-implementation-independent.

Mon Mar  2 08:36:03 1987  Chris Hanson  (cph at prep)

	* page.el (what-page): Reported wrong page number if invoked
	exactly to the right of a page-delimiter.

Sat Feb 28 14:28:28 1987  Richard M. Stallman  (rms at prep)

	* loaddefs.el (mode-line-modified):
	New variable for string that indicates modifiedness in mode line.

	* rmail.el (rmail-mode-1): If mode-line-modified is bound,
	change it rather than mode-line-format.
	* rmailedit.el (rmail-edit-mode): same thing.

Fri Feb 27 14:06:52 1987  Richard M. Stallman  (rms at prep)

	* info.el (Info-follow-reference): Combine multiple spaces
	in node name before searching.  Also helps with newline and
	spaces.

	* texinfmt.el (texinfo-format-buffer-1):
	Discard everything after the @bye.

Thu Feb 26 22:02:09 1987  Paul Rubin  (phr at prep)

	* texinfmt.el (texinfo-format-emph):
	Function was accidentally misnamed `texinfo-format'.

Thu Feb 26 02:10:58 1987  Richard M. Stallman  (rms at prep)

	* x-mouse.el (x-help, x-buffer-menu):
	Install definitions of these commands, possible now that
	xmenu.c is installed.

Tue Feb 24 13:00:44 1987  Richard M. Stallman  (rms at prep)

	* edt.el (update-mode-line): New function forces mode line update.
	* edt.el (backup-mode, advance-mode): Call update-mode-line.
	Also include a space at front of the word that's displayed.
	function-map => function-keymap.
	* edt.el: fix calls to define-keypad-key.
	* edt.el: fix typo `delete-previous-character'.

Sun Feb 22 23:08:54 1987  Richard M. Stallman  (rms at prep)

	* texinfmt.el: Define @cite, @emph and @strong.

Thu Feb 19 16:00:13 1987  Richard Mlynarik  (mly at prep)

	* subr.el:
	(fset 'set-window-buffer 'show-buffer) =>
	(fset 'show-buffer 'set-window-buffer)

Thu Feb 19 14:25:04 1987  Richard M. Stallman  (rms at prep)

	* view.el (view-mode): No longer interactive.
	Much easier than fixing the problems that happen if it is
	used wrong.

	* files.el (find-alternate-file): Don't offer save if read-only.

Wed Feb 18 19:32:06 1987  Chris Hanson  (cph at prep)

	* simple.el (do-auto-fill): Do not `save-excursion' if
	do-auto-fill should have exactly the same effect as doing
	indent-new-comment-line.  Otherwise if a fill-prefix or
	comment-start is inserted, point will be left at the beginning
	rather than the end of the inserted prefix.

Wed Feb 18 10:20:23 1987  Richard M. Stallman  (rms at prep)

	* abbrev.el (abbrev-mode): Update the mode line.
	* simple.el (overwrite-mode): Update the mode line.

	* term/vt100.el: If there are already keymaps on \e[ amd \eO,
	use them for the CSI-map and SS3-map.

	* texinfmt.el (texinfo-format-center): @center was missing.

	* isearch.el (isearch): If DEL is not special,
	it terminates the search as a random control character.

Mon Feb 16 14:56:18 1987  Richard M. Stallman  (rms at prep)

	* dabbrev.el: Missing quote in arg to make-variable-buffer-local.

	* man.el (manual-entry):
	Use insert-man-file instead of insert-file-contents.

	* tex-mode.el (TeX-show-print-queue): Start tex shell
	if not already done.

	* tex-mode.el (TeX-mode): bound search for % at eol.

Sun Feb 15 18:03:14 1987  Richard M. Stallman  (rms at prep)

	* loaddefs.el (completion-ignored-extensions): Add .bin again;
	scheme is said to use it.

Fri Feb 13 14:40:51 1987  Richard M. Stallman  (rms at prep)

	* rmail.el (rmail-insert-inbox-text): Do expand-file-name
	on names of inbox files.

	* loaddefs.el: Add autoload for server-start.

Mon Feb  9 09:53:27 1987  Richard Mlynarik  (mly at prep)

	* Version 18.37 released.

	* rmail.el (rmail-mode-1):
	Don't rely on mode-line-format being consp.

Sun Feb  8 08:53:07 1987  Richard M. Stallman  (rms at prep)

	* shell.el (inferior-lisp-program): New variable is used
	as program name when starting inferior Lisp.

	* shell.el (lisp-send-defun): Write the text to a temp file,
	then send a string saying to load the file.
	inferior-lisp-load-command controls generation of that string.
	Prefix arg means bring *lisp* buffer onto the screen
	and scroll it to the end.
	inferior-lisp-prompt controls recognition of when prompt
	arrives, indicating no more output coming so scrolling may be done.

	* server.el (server-start): Make "Server" appear in mode line
	while actual server operation is going on.
	Do process-kill-without-query also.

	* server.el (various): Call the buffer " *server*", not "*server*".

	* server.el (server-sentinel): Considerable cleanup.
	Don't ever switch-to-buffer on *server*.  Do all parsing in it
	and finding of files without changing displayed buffers;
	only then display one buffer that merits it.
	Eliminate variable old-server-edit-buffer.

	* files.el (save-abbrevs): Default value is nil.
	* abbrev.el (read-abbrev-file): Set save-abbrevs to t.

	* shell.el (make-shell): Change process-environment
	to specify EMACS=t, TERM=switch and no TERMCAP.

	* debug.el (debug): Bind print-escape-newlines to t
	while printing the backtrace.

	* subr.el (run-hooks): Each hook value may be a list of functions
	as well as a single function.

	* files.el (after-find-file): Wait only after serious messages,
	not "(New file)" or "File is read-only".  And don't redisplay
	when waiting.

	* mlconvert.el (convert-mocklisp-buffer):
	Generate mocklisp-style defuns, not Lisp-style,
	for dummy function ml-foo.  Indent the body.

Sun Feb  8 08:42:44 1987  Daniel LaLiberte  (liberte at b.cs.uiuc.edu)

	* mlconvert.el (convert-mocklisp-buffer):
	Insert the starting comment and the `require' after
	encapsulating non-defuns into defuns.

	* mlconvert.el (fix-mlisp-syntax): Detect and fix the
	^LETTER syntax.

Sat Feb  7 22:27:16 1987  Richard M. Stallman  (rms at prep)

	* mlconvert.el (convert-mocklisp-buffer):
	Treat | as alphabetic char.  Convert syntax before
	converting non-defuns to defuns.

Thu Feb  5 07:10:39 1987  Richard Mlynarik  (mly at prep)

	* ftp.el (ftp-find-file):
	Ignore `125's from server.

Tue Feb  3 05:21:10 1987  Richard Mlynarik  (mly at prep)

	* simple.el (auto-fill-mode):
	Update mode-line after changing minor mode.

Tue Feb  3 00:10:47 1987  Richard M. Stallman  (rms at prep)

	* mh-e.el (mh-insert-prefix-string):
	Use explicit loop by lines.

Sun Feb  1 04:39:34 1987  Richard M. Stallman  (rms at prep)

	* loaddefs.el: purecopy many strings found in initial var values.
	Garbage collect in middle of file to reduce storage required
	for loading.  Remove ".bin" from completion-ignored-extensions
	on Unix since only Symbolics customers would benefit from its presence.
	Symbolics killed the MIT AI lab; don't do business with them.

	* view.el (view-file): Kill the buffer at the end if it was
	created just for this and was not modified.

	* userlock.el (ask-user-about-supercession-help):
	Suggest use of revert-buffer.

	* help.el (print-help-return-message): Don't count minibuffer window
	when deciding whether there is only one window.  Calls one-window-p.
	* subr.el (one-window-p): New function.
	* subr.el: Rename some args to reduce number of symbols.

	* electric.el (Electric-pop-up-window):
	* ehelp.el (with-electric-help):
	* rmail.el (rmail-forward):
	* sendmail.el (mail-send-and-exit): Don't count minibuffer window
	when deciding whether there is only one window.
	These are done by definining subroutine one-window-p in a way that
	works in old versions of Emacs.

Fri Jan 30 16:35:48 1987  Richard Mlynarik  (mly at prep)

	* loaddefs.el (completion-ignored-extensions):
	Add ".lbin"

	* mail-utils.el, loaddefs.el (mail-use-rfc822): Doc typo.

Thu Jan 29 03:44:29 1987  Richard M. Stallman  (rms at prep)

	* rmail.el (rmail-set-message-counters):
	* rmail.el (rmail-count-new-messages):
	Don't bind cursor-in-echo-area.

	* debug.el (debug-on-entry): Doc fix.

	* files.el (rename-auto-save-file): Don't rename if new and old
	names are the same.

Wed Jan 28 17:55:02 1987  Richard M. Stallman  (rms at prep)

	* rmail.el (rmail-mode-1): Don't set mode-line-buffer-identification.

Mon Jan 26 17:15:27 1987  Richard M. Stallman  (rms at prep)

	* simple.el (set-variable): Use documentation-property
	instead of get, for getting variable documentation.

Sun Jan 25 15:46:01 1987  Richard Mlynarik  (mly at prep)

	* debug.el (debug):
	Bind cursor-in-echo-area.

Fri Jan 23 13:19:28 1987  Richard M. Stallman  (rms at prep)

	* isearch.el (isearch): In reverse search, wrapping is to end
	of buffer, not beginning.

	* man.el (manual-entry): Take 1st char of `section' as a
	substring, not as a char, to pass to `concat'.

	* loaddefs.el (completion-ignored-extensions):
	Add ".glo", ".idx" and ".lot".

Thu Jan 22 16:09:51 1987  Chris Hanson  (cph at prep)

	* shell.el (shell): Do not pass -T flag to `/bin/sh', only to
	`/bin/csh'.

Thu Jan 22 15:08:24 1987  Richard M. Stallman  (rms at prep)

	* scribe.el (scribe-mode): Doc fix.
	* loaddefs.el (scribe-mode): Doc fix.

	* tex-mode.el (tex-mode): Change tex vs latex discrimination
	to avoid a slow regexp.

Thu Jan 22 13:06:33 1987  Richard Mlynarik  (mly at prep)

	* files.el (find-file-noselect):
	Call expand-file-name earlier so it is correct in case of errors,
	file-not-found, etc.

Wed Jan 21 17:00:19 1987  Richard Mlynarik  (mly at prep)

	* yow.el, flame.el, doctor.el:
	Change calls to (random) (lisp reader doesn't read octal "07777")

Wed Jan 21 02:13:17 1987  Richard M. Stallman  (rms at prep)

	* Version 18.36 released.

Wed Jan 21 02:13:17 1987  Richard M. Stallman  (rms at prep)

	* bytecomp.el (byte-compile-setq-default): New function for
	special handling needed because setq-default has an unevalled arg.

	* c-mode.el (calculate-c-indent): When finding first statement
	inside brace-group, `case' is not special unless a colon appears.

	* macros.el (kbd-macro-query): Make C-l call `recenter'.

	* bytecomp.el (byte-compile-setq): Make setq with no args
	generate a value.

	* bytecomp.el (byte-compile-cond): Notice unconditional clauses
	and optimize the code generated.

Tue Jan 20 11:48:17 1987  Richard M. Stallman  (rms at prep)

	* bytecomp.el (byte-compile-if): Correct test for else-less if's.

	* sun-mouse.el: Delete code to handle resize-blips
	since they are unnecessary and no longer generated.

	* sort.el (sort-columns): Pass -t\n instead of -b to `sort'.

Mon Jan 19 12:44:42 1987  Richard M. Stallman  (rms at prep)

	* loaddefs.el (auto-mode-alist): Recognize .lsp as Lisp mode.

Fri Jan 16 18:09:59 1987  Richard Mlynarik  (mly at prep)

	* rmail.el (rmail-count-new-messages),
	  rmailout.el (rmail-output-to-rmail-file):
	Add optional arg `nomsg' to former, which latter supplies,
	so that rmail doesn't report counting one appended message.

Thu Jan 15 22:19:17 1987  Richard M. Stallman  (rms at prep)

	* shell.el (shell): Flush hpux kludge to use "sh" instead of
	SHELL, and install another kludge to pass -T if on hpux.

Thu Jan 15 17:08:01 1987  Richard Mlynarik  (mly at prep)

	* time.el (display-time-filter):
	Never eat anything larger than your own head.

Thu Jan 15 16:10:33 1987  Richard M. Stallman  (rms at prep)

	* files.el (after-find-file): Sit for 2 sec after warning msg.

Thu Jan 15 09:07:04 1987  Richard Mlynarik  (mly at prep)

	* rmail.el (rmail-get-new-mail):
	(or (verify-visited-file-modtime (current-buffer))
            (find-file (buffer-file-name)))

	* simple.el (append-next-kill):
	Make this work when not (interactive-p)

Wed Jan 14 16:40:38 1987  Richard Mlynarik  (mly at prep)

	* terminal.el:
	Can't send ^d chars (004) through the cretinous so-called ptys
	written by the mindless so-called hackers responsible for un*x
	(the Operating System of the Future.)

Mon Jan 12 01:08:19 1987  Richard Mlynarik  (mly at prep)

	* files.el (basic-save-buffer):
	Typo.

Sun Jan 11 16:16:15 1987  Richard Mlynarik  (mly at prep)

	* ebuff-menu (electric-buffer-list):
	Typo.

	* buff-menu.el (Buffer-menu-select):
	If the buffer to select is also marked with ">" only make one
	window for it.

	* terminal.el (te-filter):
	Save/restore point from te-saved-point to minimise the lossage
	vandals can inflict.

Fri Jan  9 15:54:00 1987  Richard M. Stallman  (rms at prep)

	* tex-mode.el: New version from Gildea.
	Many changes.

Fri Jan  9 15:04:45 1987  Richard Mlynarik  (mly at prep)

	* novice.el (disabled-command-hook):
	cursor-in-echo-area.

Fri Jan  9 10:23:13 1987  Richard M. Stallman  (rms at prep)

	* mh-e.el (mh-send-letter, mh-fully-kill-draft):
	Two minor fixes from Larus.

	* files.el (basic-save-buffer):  After prompting for
	filename for non-file buffer, turn on auto-save.

Thu Jan  8 12:05:49 1987  Richard Mlynarik  (mly at prep)

	* files.el (set-visited-filename):
	(kill-local-variable 'revert-buffer-function)

	* hanoi.el (hanoi0), yow.el, flame.el (psychoanalyze-{pinhead,flamer}):
	Quit if luser types a char rather than inhibiting redisplay for 20
	minutes!

Thu Jan  8 00:59:16 1987  Richard M. Stallman  (rms at prep)

	* sort.el (sort-columns): Fix typo in variable name.
	Also check for presence of tabs and get error.

Wed Jan  7 13:25:01 1987  Richard M. Stallman  (rms at prep)

	* vi.el: New version from wu@crys.wisc.edu.
	All function and variable names start with `vi'.
	Some missing vi capabilities now emulated.

	* sun-mouse.el (set-screen-size-and-rdis):
	was using x as screen height and y as width; exchange.

Tue Jan  6 23:52:52 1987  Richard Mlynarik  (mly at prep)

	* term/x-win.el:
	Set suspend-hook to get an error.

Tue Jan  6 17:35:37 1987  Richard M. Stallman  (rms at prep)

	* mh-e.el (mh-write-msg-to-file): Generate buffer " *mh-temp*"
	if it is missing.

Tue Jan  6 11:53:42 1987  Richard Mlynarik  (mly at prep)

	* rmailmsc.el (set-rmail-inbox-list):
	More informative prompt.

Mon Jan  5 01:15:17 1987  Richard M. Stallman  (rms at prep)

	* paths.el: Prefer Berkeley-style formatted manual directories
	(/usr/mat/cat1...) to ATT-style ones.  Pyramid has trouble
	if it uses ATT dirs in BSD universe.

	* vi.el: New version from wu@crys.wisc.edu.

	* Version 18.35 released.

Sun Jan  4 22:11:20 1987  Richard M. Stallman  (rms at prep)

	* picture.el: Fix typo in define-key for C-c<.

Sun Jan  4 21:15:59 1987  Richard Mlynarik  (mly at prep)

	* prolog.el:
	Don't modify current buffer's syntax-table when loading this file.

Sat Jan  3 19:59:41 1987  Richard M. Stallman  (rms at prep)

	* x-mouse.el: Define names for the button-up events.

Wed Dec 31 04:19:31 1986  Richard M. Stallman  (rms at prep)

	* bytecomp.el (byte-compile-function-form):
	Was miscompiling (function SYMBOL) by failing to quote SYMBOL.

Sun Dec 28 14:32:22 1986  Richard Mlynarik  (mly at prep)

	* userlock.el:
	Bind cursor-in-echo-area for read-char.

Wed Dec 24 18:31:50 1986  Richard Mlynarik  (mly at prep)

	* terminal.el:
	Lots of things changed.
	Have to start a shell just to call stty since emacs
	won't set things up correctly!!!  (We end up sometimes
	execing 5 programs to start up...)	
	Emulator terminal-type capabilities extended somewhat
	and `command-set' made somewhat emacs-oid in order to make
	termscript files easier to understand.

Tue Dec 23 02:11:49 1986  Richard M. Stallman  (rms at prep)

	* macros.el (insert-kbd-macro): Only look for global key bindings
	since we don't know how to record local ones properly
	(and in general there is no way to do it).

	* bytecomp.el (byte-compile-find-vars-1):
	Cons up and return a macroexpanded version of the form
	being scanned.
	Don't look inside a call to `function' or `condition-case'.
	For catch, look only at first argument.

	* bytecomp.el (byte-compile-find-vars):
	Return (MACROEXPANDEDFORM . VARSUSED).

	* bytecomp.el (byte-compile-top-level):
	Use the macroexpanded form returned by byte-compile-find-vars
	for subsequent compilation.  Thus, each macro call is expanded
	only once.

Mon Dec 22 15:50:58 1986  Richard M. Stallman  (rms at prep)

	* subr.el: Delete nth and copy-keymap (now in fns.c and keymap.c).

Mon Dec 22 14:04:15 1986  Richard Mlynarik  (mly at prep)

	* texinfmt.el (batch-texinfo-format):
	Was printing message about source file rather than output file.	

Mon Dec 22 13:08:39 1986  Richard M. Stallman  (rms at prep)

	* subr.el: Remove `delete-backward-char-untabify',
	insert `backward-'delete-char'.

Mon Dec 22 11:06:47 1986  Richard Mlynarik  (mly at prep)

	* simple.el (undo):
	Was missing local var `modified'

	* subr.el:
	Make `set-window-buffer' synonym for obfuscatory `show-buffer'
	Make 'delete-backward-char-untabify' a synonym for
	`backward-delete-char-untabify' -- the non-conventional naming of
	the latter confuses people

Sat Dec 20 23:38:00 1986  Richard Mlynarik  (mly at prep)

	* loaddefs.el:
	Add autoload for sort-regexp-fields.

	* sort.el:
	Rename skip-fields -> sort-skip-fields to avoid name-conflict

Sat Dec 20 21:51:22 1986  Richard M. Stallman  (rms at prep)

	* isearch.el (isearch): Print message "" only if don't set mark.
	* isearch.el (isearch-message): Put cursor in echo area instead of
	ellipsis.
	* isearch.el (isearch-search): use one string-match to check
	for all errors that mean "incomplete input".

	* files.el (rename-auto-save-file):
	Alter auto save file name of current buffer, and rename
	any existing auto save file.

	* files.el (set-visited-file-name): Use rename-auto-save-file
	if auto save mode is already on.

	* simple.el (undo): If undo-mode clears modified,
	delete any auto-save file.

Sat Dec 20 17:04:26 1986  Richard Mlynarik  (mly at prep)

	* fortran.el:
	Allow fortran-comment-indent-char to be a string of length 1,
	since that is what is documented in the printed v18 manuals.

	* terminal.el:
	Print a help message when emulator starts.
	Fix a bug in te-escape-help.

	* subr.el (read-quoted-char):
	Document PROMPT arg.

Fri Dec 19 16:26:05 1986  Richard M. Stallman  (rms at prep)

	* lisp.el (lisp-complete-symbol):
	Don't put pre-completion text on kill ring.

Fri Dec 19 11:31:22 1986  Richard Mlynarik  (mly at prep)

	* ftp.el (read-ftp-user-password):
	Change prompting for user-name

Thu Dec 18 01:40:37 1986  Richard M. Stallman  (rms at prep)

	* files.el (recover-file): Supply missing arg in call to error.

	* isearch.el: If search-slow-window-lines is negative, put the
	search window at the top.  Always bind window-min-height to 1.

	* isearch.el: When extending a reverse non-regexp search
	must not extend past barrier (same idea as below for regexps).

Wed Dec 17 11:44:21 1986  Richard M. Stallman  (rms at prep)

	* isearch.el: Combine code for search-repeat-char and
	search-reverse-char into one cond clause.
	If search direction is changing, don't greb prev search-string.
	Otherwise, do grab it if search-string is currently empty.

	* isearch.el: When extending a reverse regexp search string,
	criterion for extending current match was one off, and also
	now won't go into the area beyond where last C-r was typed.

	* replace.el (perform-replace): If user types C-l,
	clear screen, redisplay, and ask again.

	* isearch.el: In regexp isearch, when a ?, * or | is input,
	back up start of search.  New local variable `barrier' is
	position of original command or of last C-s or C-r; it
	is saved by isearch-push-state.

Mon Dec 15 09:30:22 1986  Richard Mlynarik  (mly at prep)

	* fortran.el:
	Initialise fortran-mode-abbrev-table correctly.

	* fortran.el:
	fortran-comment-indent-char should be a character (a fixnum), not
	a string of length one.

	* rmail.el:
	Add support for delta-from-UT timezone specs ("EST" = "-0500")
	Add support for four-character timezone specifications such as NZST
	[This is actually a bit suspect, since four-character timezone
	specs violate the rfc822 date format -- one should be using a spec
	like "+1000" instead]

Fri Dec 12 09:21:03 1986  Richard M. Stallman  (rms at prep)

	* loaddefs.el: Delete incorrect entry for .mss in auto-mode-alist,
	so correct entry is visible.

	* rmail.el (rmail): Initialize rmail-last-{rmail-,}file here
	rather than when rmail.el is loaded.

	* Version 18.33 released.

	* rnewspost.el: require sendmail.

	* loaddefs.el: Autoload scribe-mode and use for ".mss" files.
	Autoload modula-2-mode and prolog-mode as well.

	* sendmail.el (mail-mode): Set buffer-offer-save.

	* files.el (save-some-buffers): If user says `n' to "Save
	abbrevs?", clear abbrevs-changed so won't ask again. 

	* files.el (buffer-offer-save): New variable, local in all buffers.
	* files.el (save-some-buffers): New 2nd arg EXITING.
	If non-nil, offer to save any nonempty modified buffer
	in which `buffer-offer-save' is non-nil.

	* sup-mouse.el: New file to handle mouse commands on
	supdup terminals.

Thu Dec 11 17:59:43 1986  Chris Hanson  (cph at prep)

	* man.el: Fix bug in regexp used to nuke footers in hp-ux.

Thu Dec 11 17:52:44 1986  Richard M. Stallman  (rms at prep)

	* keypad.el: Fix typo "kill-linee".

Thu Dec 11 14:19:20 1986  Richard Mlynarik  (mly at prep)

	* isearch.el (isearch):
	Never set search-last-string to ""

Wed Dec 10 17:28:20 1986  Richard M. Stallman  (rms at prep)

	* help.el (help-for-help): Once long help text is on screen,
	bind cursor-in-echo-area to t for reading subsequent chars.

	* sort.el (sort-columns): Fix typo (col-beg1 was col-beg
	and likewise for col-end1).

Tue Dec  9 16:06:45 1986  Richard Mlynarik  (mly at prep)

	* terminal.el, ehelp.el:
	New files.
	"terminal" still needs a small amount of documentation.

Sat Dec  6 14:28:39 1986  Richard M. Stallman  (rms at prep)

	* Version 18.32 released.

	* scribe.el: New file containing scribe-mode.
	* server.el: New file containing server-start
	(makes existing Emacs process serve as "the editor" for
	other programs that want to invoke an editor subprocess.)

Fri Dec  5 01:14:16 1986  Richard M. Stallman  (rms at prep)

	* subr.el (substitute-key-definition):  [MLY]
	The definitions are in the cdr's of alist elts, not the cars.

	* mh-e.el: 3.4h from Larus.

	* rmail.el (rmail-get-new-mail):
	Never bind make-backup-files to t if it was nil before.

	* keypad.el (function-key-sequence):
	* macros.el (insert-kbd-macro):
	* vi.el:
	Pass local map argument to where-is-internal.

	* c-mode.el (c-backward-to-noncomment): Skip ^L like newline.

	* c-mode.el (calculate-c-indent):
	When checking for continued previous lines, after skipping one,
	use c-backward-to-noncomment to find next real text.
	When classifying top-level lines, ignore page breaks;
	lines ending in } are not continued lines.

	* rmailkwd.el (rmail-set-label):
	Delete whitespace only next to commas.

	* rmailkwd.el (rmail-nuke-whitespace): Delete this function.

	* sendmail.el (mail-do-fcc): Delete the entire line of an fcc
	including the newline after it.  Was failing to do so
	if the line had a space or tab at the end.

	* c-mode.el (c-indent-line): Don't think that "else_..."
	is the keyword "else".

	* rmail.el (rmail-search): For reverse search, use
	re-search-forward to filter messages; then, once a message is found,
	use re-search-backward to position point within it. 

	* rmail.el (rmail-expunge): Don't bomb if rmail file is empty.
	* rmail.el (rmail-show-message): If showing message number zero,
	don't beep, and set point at beginning of it.
	* rmail.el (rmail-set-message-counters): If no messages, set
	rmail-current-message to 0.

Thu Dec  4 18:53:38 1986  Richard Mlynarik  (mly at prep)

	* ftp.el (ftp-sentinel):
	Catch time taken/transfer-rate information.

Tue Dec  2 22:35:00 1986  Richard M. Stallman  (rms at prep)

	* float.el (float-to-string): Don't infinite-loop if arg is zero.

	* float.el (float-regexp): Accept numbers lacking digits before
	the point.  Accept numbers with a point and no digits after it.
	Don't get confused by matching just part of the input.

	* float.el (string-to-float): Detect if loading-0s
	gets to equal the length of digit-string.

Tue Dec  2 15:46:37 1986  Richard Mlynarik  (mly at prep)

	* float.el (extract-match):
	Convert to new re-register regime

Mon Dec  1 18:08:39 1986  Richard Mlynarik  (mly at prep)

	* mailalias.el (expand-mail-aliases):
	Check for case of (eq mail-aliases t) -- can happen if mail-mode
	is entered without calling mail-setup (eg when trying to recover
	an autosaved mail file)

Wed Nov 26 17:30:21 1986  Richard Mlynarik  (mly at prep)

	* loaddefs.el:
	mode-line-format should contain (-3 . "%p") rather than "%3p"

	* terminal.el:
	Use the "env" program

Wed Nov 26 00:07:19 1986  Richard M. Stallman  (rms at prep)

	* compile.el (compile1, compilation_sentinel):
	Don't make *compilation* read-only.

	* simple.el (next-complex-command): fix one-off about
	largest allowed value of ARG.  If attempting to move
	past beginning or end of history, move to the first or
	last element and then signal an error.

	* terminal.el: New file, like shell-mode modified to
	simulate a display terminal for the inferior.

Tue Nov 25 00:04:36 1986  Richard M. Stallman  (rms at prep)

	* outline.el (outline-mode): outline-regexp must match at start
	of line to be a paragraph start.

	* simple.el ({beginning,end}-of-buffer):
	When buffer-size is large, divide before multiplying
	to avoid overflow.

	* mailalias.el (expand-mail-aliases):
	Re-expand the expansions for compatibility with Berkeley mail.

	* ftp.el: New file for visiting remote files using FTP.

Mon Nov 24 14:07:40 1986  Richard M. Stallman  (rms at prep)

	* files.el (find-file-noselect): Due to change in
	insert-file-contents, need not set buffer-file-name if error.

	* paths.el: Correct manual-formatted-dirlist for USG systems.

	* man.el: Use new subroutine insert-man-file to insert files
	uncompressing if nec.  Also uncompact compacted files.
	Detect sysV footers.  Detect headers when section contains a
	letter (as in 3n).  Delete the vars already moved to paths.el.

	* disass.el: new name for disassemble.el to avoid USG truncation.
	loaddefs.el changed for this.

Mon Nov 24 02:43:08 1986  Chris Hanson  (cph at prep)

	* term/supdup.el: Add code for hp-ux which has no binding for the
	TERMCAP environment variable.

Sun Nov 23 00:03:35 1986  Richard M. Stallman  (rms at prep)

	* version 18.31 released.

	* x-mouse.el: New mouse-command keys are C-x C-@.

Sat Nov 22 14:15:11 1986  Richard Mlynarik  (mly at prep)

	* bytecomp.el (byte-recompile-directory):
	Use third arg to `directory-files'

Sat Nov 22 02:26:22 1986  Richard M. Stallman  (rms at prep)

	* subr.el: Defvars for global-map, ctl-x-map, esc-map
	and mouse-map, just so they get doc strings.

Fri Nov 21 15:43:49 1986  Richard M. Stallman  (rms at prep)

	* bytecomp.el (byte-compile-file): Bind vms-stmlf-recfm to t
	around writing the output file.

Fri Nov 21 14:46:37 1986  Leonard H. Tower Jr.  (tower at prep)

	* rnews.el, rnewspost.el (caesar-region, news-caesar-buffer-body)
	Added former from phr, rename latter and modified it to work with
	former.  Changed key-bindings for rename.  This gets rid of the
	interface (which also is ugly) to the UNIX "tr" command.

Fri Nov 21 00:29:13 1986  Richard M. Stallman  (rms at prep)

	* mh-e.el (mh-display-msg):
	 Pass non-nil 2nd arg to insert-file-contents

Thu Nov 20 23:57:52 1986  Richard M. Stallman  (rms at prep)

	* vip.el (vip-find-char):  Use search-forward instead of
	* yow.el (snarf-yows):     scan-buffer.  A few other local
	* man.el (manual-entry):   simplifications.

	* bytecomp.el: Don't open-code scan-buffer.

Thu Nov 20 12:33:31 1986  Richard Mlynarik  (mly at prep)

	* helper.el:
	Flush Helper-major-mode, Helper-mode-name:
	there is a much simpler way of doing this
	(see new Helper-describe-mode)
	Make it work for Helper-return-blurb to be buffer-local
	(this is better than binding it dynamically)

	* ebuffer-menu.el, echistory.el, view.el:
	Flush references to Helper-{major-mode,mode-name}

Wed Nov 19 22:39:57 1986  Richard M. Stallman  (rms at prep)

	* indent.el: Make tab-stop-list a user variable.

	* rmail.el: Undo previous change to rmail-show-message.

Tue Nov 18 08:39:59 1986  Richard Mlynarik  (mly at prep)

	* prolog.el (end-of-prolog-clause):
	Typo

	* ebuff-menu.el:
	Make "n" and "p" synonymous with "\C-n" and "\C-p"

	* rmail.el (rmail-show-message):
	With no interactive argument, just move to beginning of current
	message (like ".") rather than to message 1.

Sun Nov 16 23:32:19 1986  Richard M. Stallman  (rms at prep)

	* startup.el: expect window-system to be a symbol, not a string,
	and concatenate "-win" instead of "-windows" to keep
	file names short.

	* term/x-win.el: New name for term/X-windows.el
	needed due to change in dispnew.c re window-systems.

Sun Nov 16 11:04:33 1986  Leonard H. Tower Jr.  (tower at prep)

	* rnews.el (news-ignored-headers)
	removed Organization:, so it's visible to readers.

Fri Nov 14 13:16:48 1986  Richard M. Stallman  (rms at prep)

	* Emacs version 18.30 *

	* rmail.el (rmail-forward):
	Use mail-other-window unless there is only one window visible.
	Use of `mail' instead in the case of multiple windows on the
	screen makes it a nuisance to get back to Rmail.

	* outline.el (outline-regexp): ^L starts a header line.

Thu Nov 13 23:38:57 1986  Richard M. Stallman  (rms at prep)

	* fill.el (fill-region-as-paragraph):
	If 1st line starts with fill prefix, exclude that fill
	prefix from the preprocessing before actual filling.
	Fixes failure to preserve initial whitespace after a fill prefix.

Tue Nov 11 14:57:25 1986  Leonard H. Tower Jr.  (tower at prep)

	* rnews.el (news-show-all-headers)
	Added code to replace previously deleted (news-get-back).

	* emacsbug.el (report-emacs-bug):
	Got rid of redundant "on system-name (system-type)" now that
	(emacs-version) outputs it.

Mon Nov 10 08:54:05 1986  Richard Mlynarik  (mly at prep)

	* dired.el (dired-mode):
	(run-hooks 'dired-mode-hook)

Sun Nov  9 21:59:30 1986  Richard Mlynarik  (mly at prep)

	* files.el (set-visited-file-name):
	(kill-local-variable 'write-file-hooks)

Sun Nov  9 14:28:43 1986  Richard M. Stallman  (rms at prep)

	* simple.el (push-mark): Print nothing if minibuffer active.

Sat Nov  8 09:38:18 1986  Richard M. Stallman  (rms at prep)

	* rnews.el (news-set-mode-line):
	Don't change mode-line-format; instead change mode-line-process
	and mode-line-buffer-identification.
	Delete unused function `strcpyn'.

	* echistory.el (electric-command-history):
	Delete no-op `let'.

	* compile.el (compile1): Flush v17 compatibility code to sett
	mode-line-format.
	* info.el (Info-set-mode-line, Info-edit): Ditto.
	* shell.el (shell-mode, inferior-lisp-mode): Ditto.
	* telnet.el (telnet-mode): Ditto.

	* c-mode.el (calculate-c-indent): When deciding whether
	a line is a continuation, ignore label-lines.
	Also ignore preceding lines that end in commas.  Consequence:
	if the preceding line is a continuation, our line
	is indented just like it (as a continuation of the same thing).

	* loadup.el: look for new file "site-load.el" to preload
	libraries before the DOC file is read.

Fri Nov  7 19:15:57 1986  Richard M. Stallman  (rms at prep)

	* novice.el (disabled-command-hook):
	Catch errors in `documentation' in case doc file is missing.

	* keypad.el (function-key-sequence):
	Use cons, not list, to make the definition to search for.

Fri Nov  7 12:30:48 1986  Richard Mlynarik  (mly at prep)

	* sort.el (sort-build-lists):
	Delete CPH's change.
	This had already been fixed in a different way.

Fri Nov  7 10:40:40 1986  Richard M. Stallman  (rms at prep)

	* c-mode.el (calculate-c-indent):
	A line ending in singlequote-colon now does not make the
	following line be considered a continuation.

Fri Nov  7 09:14:29 1986  Chris Hanson  (cph at prep)

	* sort.el (sort-build-lists):
	Was not initializing point to the beginning of the region.  As a
	result, if one tried to sort a region where point was at the end
	and mark at the beginning, nothing would happen.

Thu Nov  6 19:47:21 1986  Richard M. Stallman  (rms at prep)

	* subr.el (indent-to-column): New alias for indent-to.

Thu Nov  6 18:09:10 1986  Leonard H. Tower Jr.  (tower at prep)

	* rnewspost.el 
	Finish bringing posting and followups (mostly) up to the News 2.11
	revision of RFC 850 (exceptions noted in rnewspost.el's header).
	Added function news-reply-yank-original, to be used in lieu of
	mail-yank-original.

Thu Nov  6 12:46:57 1986  Richard M. Stallman  (rms at prep)

	* version.el (emacs-version):
	Include host name and system type.

	* rmail.el: rmail-edit-current-message moved from C-r to w.
	Doc string of rmail-mode changed.

	* loaddefs.el (auto-mode-alist, completion-ignored-extensions):
	Ignore ".blg" and ".bbl".  Know modes for ".bbl" and ".bib".
	Rearrange auto-mode-alist with frequently used elts first.

	* files.el (find-file-noselect):
	Eliminate incorrect nested or-for-effect within or-for-effect.
	Bug was it didn't offer to reread a changed file.

Wed Nov  5 16:32:31 1986  Leonard H. Tower Jr.  (tower at prep)

	* rnewspost.el (news-reply)
	Fixed bug when point was outside of header on invocation.
	Added References: header line per RFC850.	

Wed Nov  5 12:48:44 1986  Richard M. Stallman  (rms at prep)

	* files.el (file-name-sans-versions):
	Fix one more typo in name of argument variable.

Wed Nov  5 11:01:57 1986  Richard Mlynarik  (mly at prep)

	* mh-e.el:
	Version 3.4d from Larus

Wed Nov  5 10:10:53 1986  Richard M. Stallman  (rms at prep)

	* novice.el (disabled-command-hook):
	Clean up the message in the case of coming from M-x ...

Tue Nov  4 17:55:33 1986  Richard M. Stallman  (rms at prep)

	* various files (dired-mode, Edit-options-mode, rmail-mode,
	rmail-summary-mode, rmail-edit-mode, Buffer-menu-mode):
	Give these symbols `special' as a `mode-class' property.

	* dired.el (dired-mode): Take out local value for
	default-major-mode.  The mode-class property now makes sure
	new buffers are not made in dired-mode.

Tue Nov  4 16:58:49 1986  Leonard H. Tower Jr.  (tower at prep)

	* rnews.el
	Add several C-C C-F C-letter fields in RFC 850.

Tue Nov  4 11:56:46 1986  Richard Mlynarik  (mly at prep)

	* paragraphs.el (various):
	(interactive "*") needed in some places.

Mon Nov  3 23:31:42 1986  Richard M. Stallman  (rms at prep)

	* help.el (variable-at-point):
	Catch all errors anywhere within.  Fixes bug when
	`C-h v' was done with point after an `('.

Sun Nov  2 17:30:54 1986  Richard Mlynarik  (mly at prep)

	* files.el (backup-buffer):
	"neq" isn't defined -- use /=

Sat Nov  1 00:28:14 1986  Richard Mlynarik  (mly at prep)

	* simple.el (open-line):
	interactive "*"

	* rmail.el (rmail-variables):
	rmail-keywords should be buffer-local

	* undigest.el:
	Another broken-un*x-mailer-compensation fix from rlk.

	* file.el (file-name-sans-version):
	Fix typo in VMS case.

Thu Oct 30 20:12:01 1986  Richard Mlynarik  (mly at prep)

	* xscheme.el:
	defvar scheme-program-name, not defconst

	* keypad.el (setup-terminal-keypad):
	Use correct format for indirect keymap entries.

Wed Oct 29 19:07:03 1986  Leonard H. Tower Jr.  (tower at prep)

	* rnews.el, rnewspost.el:
	Created later from parts of former to speed up initial rnews load
	(also debugging time).  Added autoloads as appropriate.  The mail and
	posting commands are most often not used in an rnews session.

Wed Oct 29 18:53:37 1986  Richard Mlynarik  (mly at prep)

	* startup.el (command-line):
	VMS sys$login:.emacs

Wed Oct 29 14:13:10 1986  Leonard H. Tower Jr.  (tower at prep)

	* rnews.el (news-inews):
	Added save-excursion call.  Got bury-buffer at right nesting level.
	Got rid of unneeded code.

	* rnews.el (news-rotate-buffer-body):
	Added and modified this function written by paul@media-lab.mit.edu.
	Bound it to C-c C-r in both news and post-news modes.

	* rnews.el:
	Message text cleanup.
	
Wed Oct 29 13:27:26 1986  Richard Mlynarik  (mly at prep)

	* help.el (view-lossage):
	Use (goto-char (point-min)), not (beginning-of-buffer))

	* electric.el (shrink-window-if-larger-than-buffer):
	New function.  Perhaps this should be in subr.el?

	* tags.el (find-tag):
	If arg is "" and interactive, put computed tag into
	command-history so that repeat-complex-command works.

	* subr.el (momentary-string-display):
	Avoid losing due to file-locking.

	* files.el (auto-save-mode):
	Print a confirming message if interactive.

Tue Oct 28 01:12:35 1986  Richard Mlynarik  (mly at prep)

	* undigestify.el:
	Compensate for broken MH digests

	* tex-mode.el (TeX-region):
	Call csh with -f flag

	* rmail.el (rmail-forward):
	Use mail, not mail-other-window.

Mon Oct 27 14:46:48 1986  Richard Mlynarik  (mly at prep)

	* nroff-mode (electric-nroff-mode):
	Fix bugs.

	* electric.el, ebuff-menu.el, echistory.el:
	Do the `space to flush' before calling Electric-command-loop
	Delete the space to flush in electric-command-history.

	* tex-mode.el:
	defconst -> defvar

Sun Oct 26 01:32:14 1986  Richard Mlynarik  (mly at prep)

	* sendmail.el:
	(provide 'sendmail)

	* files.el (basic-save-buffer):
	Set file modes appropriately in file-precious-flag case.

Wed Oct 22 18:00:18 1986  Richard Mlynarik  (mly at prep)

	* Rename term/xterm.el => term/X-windows.el

	* startup.el (command-line):
	If the variable window-system is non-nil, load
	(concat term-file-prefix window-system "-windows")
	rather than (concat term-file-prefix (getenv "TERM"))

	* files.el (basic-save-buffer):
	Fix write-file-hooks.

	* tex-mode.el (TeX-region):
	Ensure newline before trailer (from gildea)

Tue Oct 21 11:39:56 1986  Richard Mlynarik  (mly at prep)

	* rmailedit.el (rmail-cease-edit):
	Don't add edited attribute unless changes were actually made.

	* term/xterm.el (x-handle-switch):
	command-line-args => command-line-args-left (yet again)

Mon Oct 20 18:40:23 1986  Richard Mlynarik  (mly at prep)

	* sort.el:
	  Work if (point) > (mark)

	* vip.el  (vi-change-mode-line):

Sat Oct 18 17:02:13 1986  Richard Mlynarik  (mly at prep)

	* add-log.el (add-change-log-entry):
	If file specified is a directory, then use `ChangeLog' in that
	directory.

	* sendmail.el (mail-send-and-exit):
	Don't kill selected-window, if given a prefix arg.

	* files.el (normal-mode):
	Don't clobber value of major-mode set by way of default-major-mode.

Fri Oct 17 01:06:06 1986  Richard Mlynarik  (mly at prep)

	* help.el, picture.el, simple.el, tags.el, vi.el:
	Doc/spelling fixes from sjk

	* rmailsum.el:
	use new mode-line technology

	* rmail.el (rmail-reply):
	Handle resent-reply-to better.

Wed Oct 15 16:20:03 1986  Richard Mlynarik  (mly at prep)

	* edt.el:
	(require 'keypad)

	* dired.el (dired-mode):
	Don't lose finding files from dired when default-major-mode is
	nil.

Tue Oct 14 18:08:53 1986  Richard Mlynarik  (mly at prep)

	* texinfmt.el:
	Support for @include from schaefer%andy.bgsu.edu@CSNET-RELAY.ARPA

	* dabbrev.el (dabbrev-expand):
	Give useful error message.  Use save-excursion.
	Allow both symbol-constituent and word-constituent chars in the
	expansion.

	* files.el (save-buffers-kill-emacs):
	Make arg optional.

Sun Oct 12 02:26:26 1986  Richard Mlynarik  (mly at prep)

	* macros.el (name-last-kbd-macro):
	Insert omitted argument in error message.

	* userlock.el (ask-user-about-lock-help):
	Improve help message.

Sat Oct 11 16:33:51 1986  Richard Mlynarik  (mly at prep)

	* files.el (find-backup-file-name):
	Call make-backup-file-name rather than appending "~"

	* lisp-mode.el:
	Make `|' have `"' syntax for |WeIrD SymbolS|

Fri Oct 10 14:21:15 1986  Richard Mlynarik  (mly at prep)

	* edt.el, vi.el:
	typo.

Wed Oct  8 09:56:38 1986  Richard Mlynarik  (mly at prep)

	* bytecomp.el (byte-compile-function-form):
	Handle "(function symbol)"

	* sendmail.el (mail-position-on-field):
	Return nil if field wasn't there and we did add (the
	non-`soft' case)

Tue Oct  7 01:57:31 1986  Richard Mlynarik  (mly at prep)

	* shell.el:
	Split off shell-set-directory from shell-send-input.

	* dabbrev.el (dabbrev-expand):
	Fix bugs.  Check whether last-command was a dabbrev-expand.
	Undo-boundary.

Sat Oct  4 14:50:01 1986  Richard Mlynarik  (mly at prep)

	* info.el (Info-find-node):
	Bug in case of nodename "*"

	* info.el (Info-search):
	Hair plus:  make search work with split subfiles.
	Also, push position on node history if searching puts us in a
	different node.

	* debug.el (debug):
	New match-data format.

	* info.el (Info-goto-node):
	Adjust to new regexp-register scheme.

	* info.el (Info-read-subfile):
	Node delimiter is \n\^_, not just \^_

	* texinfmt.el (batch-texinfo-format):
	Wasn't updated when Info-validate was given a required arg.

	* informat.el (Info-validate, Info-tagify):
	Warn that don't know how to hack indirect files.

	* texinfmt.el, informat.el (batch-{texinfo-format,info-validate}):
	First elt of command-line-args-left shouldn't be skipped.

Thu Oct  2 21:40:50 1986  Richard Mlynarik  (mly at prep)

	* info.el (Info-find-node):
	Tag-table position match-data was being clobbered by intervening
	search for "(indirect)"

Thu Oct  2 01:59:17 1986  Richard M. Stallman  (rms at prep)

	* texinfmt.el: define @smallbook and @tex ... @end tex.

Wed Oct  1 02:02:14 1986  Richard M. Stallman  (rms at prep)

	* lisp.el (lisp-complete-symbol): fix stupid bugs
	affecting printing completion lists.

	* loaddefs.el: Improve doc of isearch functions.

	* texinfmt.el: Define commands chapheading, (sub)*heading
	to format in the Info file like chapter and (sub)*section.

	* macros.el (name-last-kbd-macro):
	Supply (interactive).

	* macros.el (insert-kbd-macro): Fix a few bugs.

Mon Sep 29 00:55:06 1986  Richard M. Stallman  (rms at prep)

	* subr.el (momentary-string-display):
	Use insert-before-markers to insert the string so that
	the right cursor position is displayed.

Sat Sep 27 04:56:36 1986  Richard M. Stallman  (rms at prep)

	* vip.el: renamed from vi1.el.  Many cleanup changes.
	Entry point is now vip-mode, autoloaded from loaddefs.el.

Fri Sep 26 17:47:32 1986  Richard Mlynarik  (mly at prep)

	* files.el (recover-file, find-file-noselect):
	Add nowarn arg to find-file-noselect, so that recover-file doesn't
	warn one that one should consider doing m-x recover file.

	* subr.el (mod):
	Synonym for "%"

	* files.el (recover-file):
	Call expand-file-name.

	Also, get an error if user specifies an auto-save filename.
	(Would be able to do something useful if there were a way
	to get back the original filename from the auto-save filename)

Thu Sep 25 18:35:16 1986  Richard M. Stallman  (rms at prep)

	* man.el (manual-entry): If formatted man file name ends
	in .Z, uncompress it.

	* macros.el (name-last-kbd-macro):
	Now in Lisp code and autoloaded.
	Get an error if name has a definition that's not a kbd macro.

Thu Sep 25 01:17:07 1986  Richard Mlynarik  (mly at prep)

	* replace.el (perform-replace):
	Make ? (as well as C-h) give help for query-replace(-regexp)

Wed Sep 24 15:22:37 1986  Richard Mlynarik  (mly at prep)

	* simple.el (set-mark):
	set-mark is in lisp code now (from editfns.c)

	* bytecomp.el:
	Don't compile (mark) specially -- lisp code shouldn't
	call this function very freqently.

	* startup.el (command-line-1):
	(let ((load-path (cons default-directory load-path))) (load ...))
	so that the "-load" switch can specify a file relative to $cwd
	now that $cwd isn't a component of emacs' default load-path.

	* man.el (manual-entry)
	HPUX dain bramage.

Tue Sep 23 20:02:01 1986  Richard M. Stallman  (rms at prep)

	* help.el: New file containing help commands
	formerly in simple.el.  Installed in loadup.el
	and ../src/ymakefile.

	* help.el: Move calls to print-help-return-message
	inside the with-output-to-temp-buffer constructs.
	Outside, they saw the window state after displaying
	the buffer and printed the wrong stuff.

	* help.el (print-help-return-message):
	If the help buffer is already visible, do nothing
	since it is impossible to bring back the old contents
	of that buffer in this case.

	If given an argument, apply that argument to the message
	(and return the result) instead of calling `message' with it.

Tue Sep 23 16:17:48 1986  Richard Mlynarik  (mly at prep)

	* files.el (revert-buffer)
	Pass noconfirm arg to revert-buffer-function
	dired.el (dired-revert)  Ignore extra arg.

	* tags.el (visit-tags-table-buffer)
	noconfirm revert-buffer

Tue Sep 23 14:33:20 1986  Richard M. Stallman  (rms at prep)

	* rmail.el: Define "x" like "e" for consistency with Dired.

	* buff-menu.el (Buffer-menu-other-window):
	New function on "o" command, acts like "o" in Dired.
	* buff-menu.el (Buffer-menu-this-window):
	New function on "f" command, acts like "f" in Dired.
	* buff-menu.el (Buffer-menu-mode):
	Update doc for these changes and C-d change.

	* mh-e.el: Version 3.4a from Larus.

Tue Sep 23 11:06:41 1986  Richard Mlynarik  (mly at prep)

	* doctor.el:
	Heroine isn't a drug.

	* ebuff-menu.el (electric-buffer-list)
	If no buffers are marked with ">" just select the selected buffer
	and don't change the window configuration or any other buffers.
	If more than one buffer is selected, split the screen up between
	those buffers.
	Remove after-electric-buffer-menu.  "kill" -> "delete"

	* buff-menu.el
	Use "D" rather than "K" for buffers to be deleted for
	consistency with rmail and dired and others.

	Rename "kill" -> "delete" for both function-names and documentation.

	Define C-d as Buffer-menu-delete-backwards. (also in ebuff-menu)

	Save space: Merge buffer-menu-{execute,do-saves,do-kills}

Mon Sep 22 15:54:49 1986  Richard M. Stallman  (rms at prep)

	* macros.el (insert-kbd-macro): New function to insert
	Lisp code to define a kbd macro as it is now defined.
	* macros.el ({write,append}-kbd-macro): Commands deleted.
	* loaddef.el: change autoloads for above changes.

	* simple.el (callers of print-help-return-message):
	Calling this function is now the last thing done in each caller.

Mon Sep 22 13:18:44 1986  Richard Mlynarik  (mly at prep)

	* loaddefs.el
	Fix some defvars/defconsts whose doc-string didn't start on the
	same line (yuck).  Split some of these into a defvar nil followed
	by a setq.

Sun Sep 21 22:15:02 1986  Richard M. Stallman  (rms at prep)

	* loaddefs.el (auto-mode-alist):
	Don't use non-saved-text-mode now that it is deleted.

Sun Sep 21 15:56:25 1986  Richard Mlynarik  (mly at prep)

	* disassemble.el, fortran.el
	Use insert-char.

	* fortran.el (fortran-electric-line-number)):
	"self-insert-command", not "self-insert"

	* fortran.el (fortran-window-create):
	Just bind window-min-width, don't set it.

	* fortran.el (fortran-abbrev-start):
	Don't mark buffer as modified after ";?"
	fortran-abbrev-help -- do "message...done"

	* files.el (revert-buffer)
	Check to see if (file-exists-p buffer-auto-save-file-name)
	even if (recent-auto-save-p) before offering to revert from it.

	* text-mode.el:
	Remove non-saved-text-mode

	* *-mode.el
	Fix some initializations of syntax-tables so that user
	can override them.

Sun Sep 21 14:54:30 1986  Richard M. Stallman  (rms at prep)

	* files.el (recover-file, list-directory):
	Don't say /bin/ls; let search path be searched for ls.

Sat Sep 20 21:25:01 1986  Richard M. Stallman  (rms at prep)

	* lisp.el (lisp-complete-symbol): New command does
	completion on a symbol name in the buffer.

	* fortran.el: New file defining fortran-mode,
	which is autoloaded from loaddefs.

	* abbrevlist.el: New file defining list-one-abbrev-table,
	a function now used by fortran-mode but not Fortran-specific.

Fri Sep 19 00:52:07 1986  Richard M. Stallman  (rms at prep)

	* subr.el (momentary-string-display):  New function
	to display a string momentarily in the buffer.

	* loadup.el: Load loaddefs before simple and files
	because loaddefs makes more garbage.

	* loaddefs.el: Include defvar of ctl-x-4-map
	needed now that this is loaded before files.el.

Wed Sep 17 20:55:00 1986  Richard Mlynarik  (mly at prep)

	* hanoi.el
	Vital improvements

Wed Sep 17 12:13:58 1986  Richard M. Stallman  (rms at prep)

	* loaddefs.el: disable C-x p.
	* loaddefs.el: autoload set-gosmacs-bindings.
	* gosmacs.el: renamed from gosling.el with many changes
	(saves old bindings and can restore them as they were).

Wed Sep 17 11:02:39 1986  Richard Mlynarik  (mly at prep)

	* replace.el (occur)
	Use variable list-matching-lines-default-context-lines if
	no prefix arg specified.
	If nlines arg is -ve, include that many lines of preceding
	context, no lines of following context.
	Use markers instead of line-numbers.
	In occur-mode-goto-occurrence, warn about deleted buffer.	

Tue Sep 16 02:07:53 1986  Richard M. Stallman  (rms at prep)

	* simple.el (indent-for-comment):
	Delete only the spaces before the beginning of the comment starter
	in case the comment starter contains a leading space.

	* abbrev.el (edit-abbrevs-map): Define C-c C-c like C-x C-s.

	* texinfmt.el: define @r as noop.

	* simple.el (print-help-return-message): New function.
	Use before doing with-output-to-temp-buffer, and it
	prints an echo area message about how to restore
	current screen configuration from the configuration
	that will obtain after the with-output-to-temp-buffer.

	* simple.el (describe-{key,mode,function,variable}):
	* simple.el (view-lossage, command-apropos):
	Ca;; print-help-return-message.

Mon Sep 15 17:49:07 1986  Richard M. Stallman  (rms at prep)

	* sendmail.el (sendmail-send-it):
	Don't require newline before header-separator;
	search for regexp and use `^'.

	* mh-e.el: Version 3.4 from Larus.
	Uses `interactive' properly to read the arguments.

Sun Sep 14 19:44:31 1986  Richard Mlynarik  (mly at prep)

	* files.el (normal-mode)
	Use shorter error message, so more fits on screen.

Sun Sep 14 14:14:35 1986  Richard M. Stallman  (rms at prep)

	* loadup.el: On VMS, dump under name temacs.dump only.

	* vms-patch.el (make-auto-save-file-name):
	Append "$" at end as well as "_$" at front.

	* files.el (cd): Don't do file-name-as-directory on VMS.

Sat Sep 13 19:36:01 1986  Richard M. Stallman  (rms at prep)

	* bytecomp.el (byte-compile-file):
	Don't bomb on defvar with no initial value argument.

	* texinfmt.el (texinfo-format-buffer):
	Tagify and maybe even split automatically if buffer is big enough.
	Non-nil arg inhibits this.

	* informat.el (Info-tagify):
	Don't leave buffer narrowed if it wasn't narrowed to start with.

	* simple.el (comment-column, fill-prefix):
	Make them buffer-local and fix documentation.
	* loaddefs.el: make indent-tabs-mode buffer-local.

Fri Sep 12 18:37:08 1986  Richard M. Stallman  (rms at prep)

	* dired.el (dired-add-entry): Go to beginning of line
	before adding the entry.

Fri Sep 12 02:36:53 1986  Richard Mlynarik  (mly at prep)

	* mlsupport.el:
	Define ml-substr (used to be in mocklisp.c)

Fri Sep 12 02:07:23 1986  Richard M. Stallman  (rms at prep)

	* time.el: Don't just clobber global-mode-string.
	Instead, add 'display-time-string as an element
	and update the time by changing value of that variable.

	* rmail.el (rmail-mode-1): Change only part of mode-line-format
	Instead set mode-line-buffer-identification.

	* rmail.el (rmail-show-message): Use mode-line-process to
	display the message numbers and labels.

Thu Sep 11 18:24:28 1986  Richard Mlynarik  (mly at prep)

	* compile.el (compilation-sentinel)
	Ignore buffer-read-only.

Wed Sep 10 17:40:01 1986  Richard M. Stallman  (rms at prep)

	* picture.el: Convert `Picture' to `picture' in all symbols.

	* subr.el: Define old names send-string and send-region
	as aliases for new names process-send-...

Tue Sep  9 13:08:12 1986  Richard M. Stallman  (rms at prep)

	* time.el (display-time): variable display-time-interval
	specifies seconds between updates.

	* loaddefs.el: Put \-newline in doc strings that lacked it.

Mon Sep  8 09:45:01 1986  Richard M. Stallman  (rms at prep)

	* simple.el: Give C-c's keymap a name, mode-specific-map.

	* options.el (list-options): Use user-variable-p to filter
	the variables and documentation-property to get the strings.

Sat Sep  6 08:52:01 1986  Richard M. Stallman  (rms at prep)

	* tex-mode.el (tex-region):
	Handle case where specified region extends before header.

Thu Sep  4 17:00:05 1986  Leonard H. Tower Jr.  (tower at prep)

	* rnews.el (news-inews)
	added -h to call of inews to insert all header fields.

Thu Sep  4 08:37:49 1986  Richard M. Stallman  (rms at prep)

	* files.el (save-buffers-kill-emacs):
	Prefix arg means save with no query.

	* files.el (backup-buffer): Fix uses of % in message about %backup%.

Wed Sep  3 12:22:06 1986  Leonard H. Tower Jr.  (tower at prep)

	* rnews.el (news-reply-mode-map)
	Change mail-x field bindings from C-c x to C-c C-f C-x to agree
	with sendmail.el .

	* sendmail.el (mail-mode-map)
	Change mail-x field bindings from C-c C-f x to C-c C-f C-x to
	agree with ../etc/NEWS .

Mon Sep  1 06:17:17 1986  Richard M. Stallman  (rms at prep)

	* info.el (Info-find-node, Info-read-subfile):
	Now knows how to deal with indirect info files.
	* info.el: Info-current-file is now the primary
	place that records which info file is in the *info* buffer,
	and it is updated as soon as a new file is correctly read.
	* info.el: New var Info-current-subfile records which
	subfile is in the *info* buffer, or is nil for an Info file
	that doesn't have subfiles or if no subfile read in yet.

	* informat.el (Info-split): New function to split
	an Info file into a bunch of subfiles.  It edits the original
	file into an indirect file.

	* info.el, loaddefs.el:
	Autoloads for informat.el moved from info.el to loaddefs.el.

Sun Aug 31 04:21:17 1986  Richard M. Stallman  (rms at prep)

	* page.el (mark-page):
	* paragraphs.el (mark-paragraph):
	* x-mouse.el (x-mouse-set-mark):
	Use push-mark and inhibit the message, instead of set-mark.

	* mh-e.el (mh-position-on-field, mh-exec-lib-cmd-output,
	  mh-exec-cmd-output): use push-mark instead of set-mark.

	* simple.el (push-mark): optional 2nd arg NOMSG inhibits message.

	* ebuff-menu.el (electric-buffer-list):
	Was using the mark for internal purposes.
	Use an anonymous marker instead.

	* bytecomp.el: Stop using the byte-set-mark opcode.

	* replace.el (occur): Put the *Occur* buffer in Occur mode.
	Remember line number of each occurrence in occur-pos-list
	Occur mode defines C-c C-c as occur-mode-goto-occurrence,
	which uses that list to move the cursor in the original buffer
	(which is saved in occur-buffer).

	* aton.el (occur-menu: File deleted; occur-menu is subsumed by occur.

	* isearch.el (isearch): repeating the search in either direction
	must set success to t to produce correct echo area text.

	* edt.el: New file.  Autoloadable entry is edt-emulation-on.

	* keypad.el (function-key-sequence): New function
	finds which key sequence leads to a slot in function-keymap.

Sat Aug 30 00:31:48 1986  Richard M. Stallman  (rms at prep)

	* files.el (backup-buffer): Use "%backup%~", not "%backup%",
	if cannot write the backup in the usual place.

	* sort.el (sort-columns): Sort into reverse order
	if have prefix arg.  Args are now the same as for
	sort-lines, etc.

Thu Aug 28 13:56:56 1986  Richard Mlynarik  (mly at prep)

	* c-mode.el (electric-c-{brace,terminator})
	c-indent-line takes no args.

Thu Aug 28 01:57:58 1986  Richard M. Stallman  (rms at prep)

	* files.el (backup-buffer): file-precious-flag forces copying.

	* loaddefs.el: Autoload plain-TeX-mode and LaTeX-mode.
	Define aliases for them.  Fix doc for TeX-mode.

Tue Aug 26 14:25:59 1986  Leonard H. Tower Jr.  (tower at prep)

	* rnews.el:
	Added autoload of rmail-output and bound it to C-o in
	news-mode-map.  Also needed defvar of rmail-last-file.

	* rmailout.el (rmail-output):
	Made rmail-mode specific code dependent on rmail-mode being
	major-mode.

Mon Aug 25 03:47:24 1986  Richard M. Stallman  (rms at prep)

	* view.el (view-mode):
	Bind mode-line-buffer-identification;
	in new versions don't change mode-line-format.

	* dired.el (dired-mode):
	* info.el (Info-set-mode-line):
	* x-menu.el (x-menu-mode):
	Don't change mode-line-format.
	Use mode-line-buffer-identification instead.
	* ebuff-menu.el (electric-buffer-menu-mode):
	Likewise, and also copy the mode-line-format
	and replace `mode-name in it with "Buffers".

	* info.el (Info-edit): Restore normal mode line
	by killing the local variables used by Info to change it.

	* echistory.el (electric-command-history):
	In newer Emacs versions, don't alter mode-line-format.

	* compile.el (compile1, compilation-sentinel):
	* shell.el (shell-mode, inferior-lisp-mode):
	* xscheme.el (inferior-scheme-mode):
	* telnet.el (telnet-mode):
	If minor-mode-alist is bound, put the %s or process status
	into mode-line-process instead of changing mode-line-format.

	* sort.el: New file contains buffer-sorting commands.
	Autoload them in loaddefs.el.

	* files.el (backup-buffer): Obey new variable
	backup-by-copying-when-mismatch.

	* loaddefs.el: Set default-mode-line-format to use
	the new list and symbol constructs.  Define minor-mode-alist.

	* rnews.el (news-set-minor-modes):
	Store the string in news-minor-modes, and set minor-modes
	only if minor-mode-alist is unbound (Emacs versions < 18.16).
	* rnews.el (news-mode): In newer Emacses, set mode-name
	so it displays news-minor-mode.

	* nroff-mode.el (nroff-mode):
	If minor-mode-alist bound, add an entry for nroff-electric-mode
	to it, and don't call set-minor-mode.

	* simple.el (overwrite-mode, auto-fill-mode):
	* abbrev.el (abbrev-mode):
	Don't call set-minor-mode.

	* simple.el (set-minor-mode): Delete this function.

	* bytecomp.el (byte-compile-file):
	Put backslash-newline at front of doc string when that is safe.
	* bytecomp.el (old-file-newer-than-file-p):
	Deleted this; built-in file-newer-than-file-p is well established.

Sun Aug 24 03:11:41 1986  Richard M. Stallman  (rms at prep)

	* term/xterm.el: Install some changes from rlk.
	-ib switch and InternalBorder default are handled.
	Set variable x-processed-defaults when defaults are processed.
	Use require to load x-mouse.
	Use message to say why suspend-emacs is disabled.

	* x-mouse.el: Install some changes from rlk.

	* x-menu.el: New file that handles menus on X window system.

	* buff-menu.el (buffer-menu): Put point on third line
	initially (this line describes the buffer that had been selected).

	* files.el (create-file-buffer):
	Delete the variable ask-about-buffer-names
	and simplify this function.

Sat Aug 23 14:57:55 1986  Richard M. Stallman  (rms at prep)

	* files.el (basic-save-buffer):
	When changing visited name, don't try to rename old auto-save file
	if it does not exist.

	* c-mode.el (c-indent-command): New definition of TAB,
	uses c-indent-line as a subroutine.  Handling of prefix arg
	and indenting an entire expression rigidly is now in this fn.

	* c-mode.el (c-tab-always-indent): If nil, TAB inserts a tab
	if not in the initial whitespace of the line.

	* c-mode.el (calculate-c-indent):
	For statements: if prev line ends in `:', this line is still
	a continuation if the `:' follows a non-symbol-constituent char.
	For top level: look at previous line that starts in column 0
	to determine whether this line is at top level or in arg decls.
	Also notice if line is a continuation.

	* novice.el (disabled-command-hook):
	If the 'disabled property is a string, include it in the message.

Thu Aug 21 14:50:03 1986  Richard M. Stallman  (rms at prep)

	* bytecomp.el (byte-compile-interactive-p):
	Remove superfluous compilation of 'nil causing stack overflow.

	* compile.el (compilation-parse-errors):
	Count lines from the previous error message, not from line 1.

Thu Aug 21 10:45:44 1986  Richard Mlynarik  (mly at prep)

	* debug.el (debug, debugger-eval-expression):
	Evaluate the expression in the context of the buffer
	current when the debugger was entered.

Thu Aug 21 02:15:36 1986  Richard M. Stallman  (rms at prep)

	* files.el (after-find-file): Print no message
	rather than printing a null message.

Wed Aug 20 23:34:04 1986  Richard M. Stallman  (rms at prep)

	* files.el (set-auto-mode): On VMS, turn on case-fold-search
	while matching auto-mode-alist elements.

Wed Aug 20 12:30:45 1986  Richard M. Stallman  (rms at prep)

	* debug.el (debug): Don't try to restore the match data
	if it refers to a dead buffer.

	* startup.el (command-line-1):
	-i FILE or -insert FILE means insert contents of file into buffer.

Tue Aug 19 00:05:15 1986  Richard M. Stallman  (rms at prep)

	* simple.el (describe-variable):
	Use `documentation-property' instead of `get' to get
	the `variable-documentation' property.

	* userlock.el: correct spelling "supercession" -> "supersession".

	* files.el (basic-save-file):
	If file-precious-flag is non-nil, rename the old file
	before saving, and if saving fails, rename the old file back.

	* rmail.el (rmail-get-new-mail):
	Do not make a backup file if the rmail file was just visited
	and hasn't been changed aside from reading the new mail.
	This preserves the old backup file.
	* rmail.el (rmail-expunge-and-save): New name for rmail-save.
	* rmail.el (rmail-mode): Turn on file-precious-flag.

	* dired.el: Define `g' as revert-buffer in dired-mode.

	* c-mode.el (c-mode): Give `&' and `|' "punctuation" syntax.

Mon Aug 18 14:24:55 1986  Richard Mlynarik  (mly at prep)

	* files.el (find-backup-file-name):
	Don't blow up if (eq version-control 'never)

	* files.el (set-visited-file-name):
	Use `buffer-auto-save-file-name' not `auto-save-file-name' which
	is unbound and unused.

Sun Aug 17 18:34:09 1986  Richard M. Stallman  (rms at prep)

	* compile.el (compilation-sentinel):
	Don't get error if *compilation* has been killed.
	Include current date/time in message inserted in buffer.

Sun Aug 17 15:07:28 1986  Richard Mlynarik  (mly at prep)

	* files.el (basic-save-buffer)
	Fix paren error

Sat Aug 16 19:25:09 1986  Richard M. Stallman  (rms at prep)

	* files.el (find-file-noselect):
	Change find-file-not-found-hook to find-file-not-found-hooks
	and make it a list of functions to call until one of them
	returns non-nil.
	* files.el (normal-mode, after-find-file):
	Change find-file-hook to find-file-hooks, a list of functions to
	call.  Call it from after-find-file, not from normal-mode.
	* files.el (revert-buffer):
	Restore old point before calling after-find-file.
	* files.el (basic-save-buffer):
	Change write-file-hook to write-file-hooks, a list of functions
	to run until one returns t.  In that case, skip writing the file
	the usual way.

	* tags.el (visit-tag-table-buffer):
	Get proper error for empty tag table file;
	realize that char-after returns nil in that case.
	Also move error check after auto-revert.

Sat Aug 16 19:21:20 1986  Richard Mlynarik  (mly at prep)

	* subr.el
	Move copy-alist to c code, moved nth from c code.

Sat Aug 16 19:11:11 1986  Richard M. Stallman  (rms at prep)

	* files.el (normal-mode): initially call fundamental-mode
	to reinitialize everything.

	* files.el (hack-local-variables):
	Don't consider suffix as including any leading spaces.

Sat Aug 16 17:05:41 1986  Richard Mlynarik  (mly at prep)

	* informat.el, texinfmt.el
	Detect and complain about duplicate node-names

Sat Aug 16 16:56:05 1986  Richard M. Stallman  (rms at prep)

	* mh-e.el: 3.3j from Larus.  Changes C-c C-g prefix to C-c C-f.

Fri Aug 15 16:11:37 1986  Richard M. Stallman  (rms at prep)

	* isearch.el:
	Default for regexp searches is now search-last-regexp.
	Rename isearch-slow... vars to search-slow...
	C-s or C-r in failing search wraps around buffer and tries again.
	New local var `wrapped' records this has happened.
	Display `Wrapped' in echo area at such times.
	Record value of `wrapped' on the search state stack.
	Display shorter string for incomplete regexps.
	Incomplete regexp no longer implies "failure" of search.
	Clean up isearch-search considerably.
	isearch-message computes message in lower case,
	then case-converts the first char.

	* loaddefs.el: New variable search-last-regexp;
	default string for isearch-regexp.
	Rename isearch-... vars to search-...

	* simple.el (next-line, kill-line):
	* lisp.el (end-of-defun):
	* picture.el (Picture-clear-line):
	* replace.el (keep-lines):
	* indent.el (indent-relative):
	Use forward-line, not scan-buffer.
	* fill.el (justify-current-line): Use search-backward
	not scan-buffer to check whether the line has a space in it.

	* files.el (set-visited-file-name):
	Rename the auto-save file if appropriate.
	(make-auto-save-file-name, auto-save-file-name-p):
	Auto save file for foo is now #foo#.
	(make-backup-file-name, backup-file-name-p):
	New functions, used in appropriate places.

	* dired.el (dired-flag-backup-files):
	Use backup-file-name-p.

	* sendmail.el (mail-mode):
	Fix documentation of key bindings.

Fri Aug 15 14:45:40 1986  Richard Mlynarik  (mly at prep)

	* man.el (manual-entry)
	Compensate for Sun wankerism.
	If would be nice if there were something a little
	more fine-grained than `system-type' for testing for
	these cases...

Fri Aug 15 04:11:01 1986  Richard M. Stallman  (rms at prep)

	* startup.el (command-line): No longer necessary to set
	ctl-arrow from default-ctl-arrow, etc., after init file is run
	due to changed behavior of those variables.

	* info.el (Info-edit):
	* rmailedit.el (rmail-edit-mode):
	Change default-mode-line-format to (default-value 'mode-line-format).

Thu Aug 14 16:17:20 1986  Richard Mlynarik  (mly at prep)

	* man.el (manual-entry):
	Speed up `\b'-hacking.

Thu Aug 14 01:08:32 1986  Richard M. Stallman  (rms at prep)

	* sendmail.el: Change key bindings.
        C-c <letter> becomes C-c C-<letter> or C-c C-f <letter>.

	* mh-e.el (mh-position-on-field):
	mh-header-end -> mh-goto-header-end.

	* novice.el (disabled-command-hook):
	Print only the first paragraph of the command's documentation.
	[Test this, once new narrow-to-region doc is installed.]

	* rmailsum.el (rmail-make-basic-summary-line):
	Don't accept a time zone as a month.

Wed Aug 13 02:01:59 1986  Richard M. Stallman  (rms at prep)

	* mh-e.el: New version 3.3i, moving mode-specific commands
	to C-c prefix.

	* tex-mode.el: many new features incl. LaTeX mode
	and some C-c commands.

	* indent.el (indent-relative):
	Fix lossage if point to indent under was inside a tab.

	* bytecomp.el (byte-compile-substring):
	Fix dumb error.

	* info.el: Autoload Info-validate.  Fix bug in autoload Info-tagify.

Tue Aug 12 11:30:53 1986  Richard Mlynarik  (mly at prep)

	* rmailedit.el (rmail-cease-edit, rmail-attributes)
	Add label (well, `attribute,' really) "edited" to message.

	* mlsupport.el (auto-execute)
	Fix from bap@g.cs.cmu.edu

Mon Aug 11 10:36:51 1986  Richard Mlynarik  (mly at prep)

	* bytecomp.el (byte-compile-form)
	Compile references to t and nil as constants rather then variable
	references.

	* bytecomp.el (byte-compile-no-args, ..., byte-compile-three-args)
	If called with wrong-number-of-args, do a normal function call
	and get an error at runtime.

	* bytecomp.el (byte-compile-file-form)
	Process (require ...) at compile-time

	* informat.el, info.el, loaddefs.el
	Move Info-validate and friends into new file informat.el
	Add batch-info-validate

	* texinfmt.el, loaddefs.el
	Add batch-texinfo-format

	* startup.el
	Add synonym switches "-funcall" "-load" "-user" "-no-init-file"
	for cryptic "-f" "-l" "-u" "-q"

	* mlsupport.el
	Make various turds know that inhibit-command-line has gone.

	* bytecomp.el (batch-byte-compile), tex-start.el
	Because of RMS's change "Mon Jul  7 14:01:51 1986"
	must use variable command-line-args-left rather than command-line-args.

	Actually, I see no circumstances under which a switch -could- be
	interested in any command-line-args before the mention of itself,
	and so think that rebinding command-line-args as appropriate was
	correct (if perhaps a little confusing to the person who requested
	that RMS' change be made)

Sun Aug 10 08:02:19 1986  Richard Mlynarik  (mly at prep)

	* info.el (Info-validate)
	re-search for \\*, not *

Thu Aug  7 10:24:21 1986  Richard Mlynarik  (mly at prep)

	* rfc822.el, loaddefs.el, mail-utils.el
	Hairy address parser, used only if mail-use-rfc822 is non-nil
	(It is nil by default, so if one doesn't like or need the hair of
	this file, then one is never troubled by it)

	* disassemble.el, loaddefs.el
	Code from doug@csli.stanford.edu modified by mly.
	RMS -- if this is too random to be in the GNU Emacs
	distribution, please tell me so.

	* bytecomp.el
	Compile eql same as eq.

Wed Jul 30 22:03:02 1986  Richard M. Stallman  (rms at prep)

	* outline.el (many functions):
	New variable outline-regexp controls what is a heading line.
	It must match at the beginning of a line.  Length of matched text
	gives the depth of heading within the tree.

	* term/xterm.el (x-get-default-args):
	Process reversevideo option just once.  (Twice is noop.)

Mon Jul 28 20:24:18 1986  Richard M. Stallman  (rms at prep)

	* term/vt100.el, term/vt200.el:
	Move (require 'keypad) to top to avoid error.

Fri Jul 18 14:26:00 1986  Leonard H. Tower Jr.  (tower at prep)

	* rnews.el: (news-add-news-group)
	handle unsubscribed groups better

	* rnews.el: (news-{next,previous}-group)
	now skip groups with no new messages

Thu Jul 17 19:06:59 1986  Richard M. Stallman  (rms at prep)

	* mh-e.el: Install version 3.3h from Larus.

Tue Jul 15 17:35:34 1986  Richard M. Stallman  (rms at prep)

	* shell.el (shell-send-input):
	If get error trying to change directory, call
	shell-set-directory-error-hook with no args.

Sat Jul 12 00:12:37 1986  Richard M. Stallman  (rms at prep)

	* tags.el (list-tags, tags-apropos): Call output buffer *Tags List*.

	* c-mode.el (calculate-c-indent):
	Better handling of case where first statement at current level
	starts on same line as a case..: or label.  New local var
	colon-line-end.

Mon Jul  7 14:01:51 1986  Richard M. Stallman  (rms at prep)

	* startup.el (command-line-1): rename argument variable
	command-line-args to command-line-args-left.  Don't rebind
	command-line-args.

Sat Jun 21 01:11:23 1986  Richard M. Stallman  (rms at prep)

	* mh-e.el: Version 3.3g from Larus.

Thu Jun 19 12:35:17 1986  Richard M. Stallman  (rms at prep)

	* isearch.el (isearch): Use slow terminal mode
	only if current window is > 4 times the slow-terminal lines high.

Tue Jun 17 05:37:59 1986  Richard M. Stallman  (rms at prep)

	* nroff-mode.el: Add elements to nrofff-brace-table.

Mon Jun 16 06:30:54 1986  Richard M. Stallman  (rms at prep)

	* mlconvert.el (convert-mocklisp-buffer):
	Proper handling of `!' function, via new function ml-not.
	Proper handling of non-defuns, by putting them inside a
	dummy defun and calling that function.

Sat Jun 14 22:05:58 1986  Richard M. Stallman  (rms at prep)

	* mh-e.el : Install 3.3f from Larus.

Thu Jun 12 02:47:11 1986  Richard M. Stallman  (rms at prep)

	* startup.el (command-line):
	Rename default init file to default.el.
	Don't look for suffixes on .emacs file.

	* keypad.el: New file that defines a standard keypad mode.
	* term/vt*.el: Rewrite completely to use keypad.el.

Wed Jun 11 16:43:27 1986  Richard M. Stallman  (rms at prep)

	* abbrev.el (abbrev-prefix-mark):
	Insert a - at the beginning of the abbrev.
	expand-abbrev will now delete such -'s.

	* userlock.el (ask-user-about-supercession):
	Ask user what to do if he is modifying a buffer whose
	file is changed on disk.

Tue Jun 10 04:54:33 1986  Richard M. Stallman  (rms at prep)

	* rmail.el (rmail-reply): For the in-reply-to,
	try to get the sender's full name from within parentheses.

	* outline.el: pervasive changes; new features, changed keys.

	* files.el (backup-bufer):
	If cannot write backup under normal name, write it in ~/%backup%.
	Preserve the last-modified time when backing up by copying.

Mon Jun  9 00:00:24 1986  Richard M. Stallman  (rms at prep)

	* rmail.el (rmail-expunge): Preserve point unless expunging
	the current message.

	* bytecomp.el (file-newer-than-file-p):
	Since this is a primitive in version 18, define it
	only if not defined.

Sun Jun  8 09:43:02 1986  Richard M. Stallman  (rms at prep)

	* files.el (load-file, load-library): two new commands.

	* startup.el (command-line): Eliminate inhibit-command-line
	since one can just set command-line-args to nil.

	* term/xterm.el: No need to handle -d switch
	since main() handles it now.

	* tags.el: Display name of file being processed.

	* mh-e.el: Install version 3.3 from Larus.

	* replace.el, loaddefs.el (perform-replace):
	perform-replace does not print "done"; its callers do.

	* startup.el (command-line):
	Rename file default-profile to .emacs-df;
	load it always, unless inhibit-default-init is set to t.

	* telnet.el: Switch to C-c prefix for mode-specific commands.

	* startup.el (command-line): Use just first word of
	terminal name to make per-terminal library file name.

	* loadup.el: Change name of installed docstr file to
	DOC-mm.nn.oo from DOC.mm.nn.oo.

	* files.el (file-name-sans-versions): New system-dependent
	function to remove backup or version suffixes from filename.

Sat Jun  7 16:04:07 1986  Richard M. Stallman  (rms at prep)

	* c-mode.el (electric-c-terminator):
	Check for point being inside a multi-line string or comment
	and do nothing.  For colon, check for more than one word
	before it on the line (with first one not "case") and do nothing.

	* c-mode.el: Don't rebind Linefeed.

	* c-mode.el (calculate-c-indent):
	If previous line ends in ") {", skip back to matching "("
	and use that line's indentation as the brace's column.

Fri Jun  6 00:12:48 1986  Richard M. Stallman  (rms at prep)

	* nroff-mode.el (nroff-comment-indent, nroff-mode):
	Define a comment syntax.  Install comment-indenter
	as supplied by gildea, but change it not to use
	insert-before-markers, to avoid display anomalies.

	* files.el (find-file-noselect): Tell revert-buffer not to query.
	* files.el (revert-buffer): Second arg non-nil means no query.

	* files.el (after-find-file): Warn if auto-save file 
	exists and is newer than the file visited.

	* files.el (find-alternate-file):
	Allow replacing a non-file buffer, as long as not modified.

	* files.el (recover-file):
	Initially show a directory listing of real and auto-save files.
	Only find the file if user says yes.
	Print better messages.

	* simple.el (goto-line): Use new interactive code N.

	* subr.el (substitute-key-definition): New function.
	Replaces all bindings to one function in one map
	with another function.

	* xterm.el: Use substitute-key-definition to get rid of keys
	that do suspend-emacs.

Thu Jun  5 00:25:52 1986  Richard M. Stallman  (rms at prep)

	* simple.el (fundamental-mode):
	Provide a fundamental-mode-map in case user does local-set-key.

	* picture.el (picture-mode):
	New key bindings for setting insert motion direction:
	C-c <, C-c >, C-c ^ and C-c . instead of M- chars.

	* rmail.el (rmail-reply): When putting From into In-reply-to,
	stop at any newline.

	* mail-utils.el (mail-strip-quoted-names):
	Consider newlines like other whitespace for <...> hacks.

	* bytecomp.el (byte-compile-cond{,-1}):
	Handling of singleton clauses that are not last.
	Handling of cond with no clauses.

	* startup.el (command-line): Switch to *scratch* before
	running initial-major-mode, and do this only if *scratch* exists.

	* compare-w.el: Simplify the handling of `size':
	always reduce size not to exceed the amount of space
	left in either buffer.

Wed Jun  4 21:44:40 1986  Richard M. Stallman  (rms at prep)

	* man.el (manual-entry): Use new variables manual-program,
	manual-formatted-dir-prefix and manual-formatted-dirlist,
	defined in paths.el.

	* time.el (display-time):
	Don't expand-file-name of "loadst".  Let start-process search
	the exec-path for it.

	* texinfmt.el (texinfo-discard-line):
	Allow and discard spaces at end of line.

	* texinfo.el:
	Split most of this into new file texinfmt.el.

	* replace.el (perform-replace):
	Bind help-form only while the read-char is done;
	don't interfere with recursive edits.

Thu May 29 19:05:19 1986  Richard M. Stallman  (rms at prep)

	* info.el (Info-validate): If file is valid,
	erase the buffer of problems found previously.
	Non-re search was used by mistake to search for regexps; fix.

	* nroff-mode.el (electric-nroff-newline):
	Leave point between the open-directive and the close-directive,
	as it was supposed to do.
	Add some directive-pairs to nroff-brace-table.

Wed May 28 03:56:04 1986  Richard M. Stallman  (rms at prep)

	* telnet.el (telnet-initial-filter):
	If host nonexistent, kill the telnet buffer and get error.

Sun May 25 20:00:21 1986  Richard M. Stallman  (rms at prep)

	* rmail.el (rmail-search): Don't find a match in the current message.

Mon May 19 22:11:52 1986  Richard M. Stallman  (rms at prep)

	* mh-e.el (mh-get-new-mail): Handle error messages reeived from `inc'.

Thu May 15 18:35:25 1986  Richard M. Stallman  (rms at prep)

	* files.el (save-buffer): Switch meanings of one-C-u and two-C-u
	in the code, so they match the documentation.

Local Variables:
mode: indented-text
eval: (auto-fill-mode 1)
left-margin: 8
fill-column: 74
version-control: never
End:
